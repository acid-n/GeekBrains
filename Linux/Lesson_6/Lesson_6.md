Задание 1

1) Найдите информацию о том, как в Ubuntu открыть порт 80,443. Укажите как.
#sudo ufw allow http (или #sudo ufw allow 80)
#sudo ufw allow https (или #sudo ufw allow 443)

2) Установить nginx, сконфигурировать свой виртуальный хост, используя порт 80, так, чтобы:
на запрос клиента с указанным и непустым хидером 'User'. отправлять код 200 с текстом "Hi $user!", где $user - это значение хидера 'User'.
иначе отправлять код 404 с текстом "Page not found".
#sudo apt-get install nginx
#sudo nano /etc/nginx/sites-available/example.conf
#sudo nano /etc/hosts
#sudo nginx -t
#suod nginx -s reload

#curl -H "name: Nick" http://example.ru

3) Мне прислать конфиг nginx и команду curl, которую выполняете.


Задание 2

1) Найти информацию о том, что такое самоподписанные сертификаты и сгенерировать такой для своего вэб сервера. Написать своими словами, что это такое и как сгенерить.

Сертификаты в первую очередь позволяют идентифицировать человека, подтвердить что вы тот, за кого себя выдаете. А работает это так - есть два ключа - закрытый и открытый. Зашифровать сообщение можно с помощью открытого ключа, но чтобы его расшифровать нужен только закрытый ключ. Если у вас нет закрытого ключа, то вы попросту не сможете расшифровать зашифрованное сообщение. Фактически зашифровать сообщение может каждый, но расшифровать его способен только владелец закрытого (секретного ключа).
Если вы смогли расшифровать отправленное сообщение, зашифрованное с помощью вашего открытого ключа, то значит - это вы. Ключи работают только в паре, и вы не сможете расшифровать ничего другим ключом. Но еще остался один момент. Как определить что этот открытый ключ именно ваш, например, принадлежит вашему домену? Все просто, достаточно, чтобы кто-то из авторитетных источников, например, Comodo или LetsEncrypt подписал ваш ключ. Это так называемые центры сертификации.
Чтобы создать закрытый ключ и запрос на подпись открытого ключа выполните такую команду:
#sudo mkdir /etc/nginx/ssl
#openssl req -new -x509 -days 9999 -nodes -out cert.pem -keyout cert.key

В конфиге nginx виртуального хоста прописал 443 (файл прилагается)

2) Добавить SSL соединение для дифолтного виртуального хоста nginx, используя порт 443. Прикрепить конфиги nginx.

3) Откройте в браузере страницу хоста и посмотрите, как браузер реагирует на самоподписанные сертификаты. Напишите, что видите.
Сертификат видит, но не хочет Accept делать. Странно. Просто кнопка Accept не срабатывает.

4) Мы говорили о необходимости шифровать симметрично. При этом проблем с получением ассиметричных сертификатов нет. Зачем такая сложная схема для установления SSL соединения? Почему бы не шифровать ассиметрично? Своими словами.

Хорошая статья на эту тему попалась https://www.binance.vision/ru/security/symmetric-vs-asymmetric-encryption

Во многих приложениях, симметричное и асимметричное шифрование используются вместе. Хорошим примером таких гибридных систем являются криптографические протоколы Security Sockets Layer (SSL) и Transport Layer Security (TLS), которые были разработаны для обеспечения безопасной связи в интернете. Протоколы SSL на данный момент считаются небезопасными и ими не рекомендуют пользоваться. В свою очередь, протоколы TLS считаются безопасными и широко используются всеми современными веб-браузерами.

Интересная тема по поводу ключей и TLS - надо будет еще почитать.

